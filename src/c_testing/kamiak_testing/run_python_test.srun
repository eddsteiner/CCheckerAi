#!/bin/bash
#SBATCH --partition=kamiak         # Partition/Queue to use
#SBATCH --job-name=myJob           # Job name
#SBATCH --output=result.out      # Output file (stdout)
#SBATCH --error=errors.err       # Error file (stderr)
#SBATCH --mail-type=ALL            # Email notification: BEGIN,END,FAIL,ALL
#SBATCH --mail-user=your.name@wsu.edu  # Email address for notifications
#SBATCH --time=7-00:00:00          # Wall clock time limit Days-HH:MM:SS
#SBATCH --nodes=1                  # Number of nodes (min-max)
#SBATCH --ntasks-per-node=1        # Number of tasks per node (max)
#SBATCH --ntasks=1                 # Number of tasks (processes)
#SBATCH --cpus-per-task=10         # Number of cores per task (threads)
#SBATCH --gres=gpu:tesla:1         # Requesting 1 node with 1 GPU, can specify more than 1


#nvcc -c -o libmaxmul.so maxmul.cu
LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$(pwd)
echo hi2
nvcc --ptxas-options=-v --compiler-options '-fPIC' -o libmaxmul.so --shared maxmul.cu
echo hi1
python3 testing.py
echo hi

#srun echo "Hello World"            # Run #tasks instances of program
#echo "Hello World1"



